!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/material/table"),require("@angular/material/checkbox"),require("@angular/cdk/drag-drop")):"function"==typeof define&&define.amd?define("angular-material-extensions",["exports","@angular/core","@angular/common","@angular/material/table","@angular/material/checkbox","@angular/cdk/drag-drop"],t):t((e=e||self)["angular-material-extensions"]={},e.ng.core,e.ng.common,e.ng.material.table,e.ng.material.checkbox,e.ng.cdk.dragDrop)}(this,(function(e,t,r,n,a,o){"use strict";var l=function(){function e(e,t,r){this.table=e,this.headerRow=t,this.dndService=r,this.columns=[]}return e.prototype.ngAfterViewInit=function(){this.dropListRef=this.createDropList(this.headerRow,this.createDrags(this.getHeaderCells(this.headerRow.nativeElement))),this.columns=this.table._contentHeaderRowDefs.first.columns,console.log(this.columns)},e.prototype.drop=function(e){o.moveItemInArray(this.columns,e.previousIndex,e.currentIndex)},e.prototype.getHeaderCells=function(e){return Array.from(e.children)},e.prototype.createDrags=function(e){var t=this;return e.map((function(e){var r=t.dndService.createDrag(e);return r.lockAxis="x",r}))},e.prototype.createDropList=function(e,t){var r=this,n=this.dndService.createDropList(e);return n.withItems(t),n.withOrientation("horizontal"),n.dropped.subscribe((function(e){return r.drop(e)})),n},e}();l.decorators=[{type:t.Directive,args:[{selector:"[matCustomHeader]"}]}],l.ctorParameters=function(){return[{type:n.MatTable},{type:t.ElementRef},{type:o.DragDrop}]};Object.create;function i(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)l.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return l}Object.create;var c=function(){function e(e){this.table=e}return e.prototype.ngOnInit=function(){this.columnDef.name=this.name||"select",this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this.table.addColumnDef(this.columnDef)},e.prototype.ngOnDestroy=function(){this.table.removeColumnDef(this.columnDef)},Object.defineProperty(e.prototype,"data",{get:function(){return this.table?this.table.dataSource instanceof n.MatTableDataSource?this.table.dataSource.data||[]:this.table.dataSource||[]:[]},enumerable:!1,configurable:!0}),e.prototype.isAllSelected=function(){var e;return((null===(e=this.selection)||void 0===e?void 0:e.selected.length)||0)===this.data.length},e.prototype.masterToggle=function(){var e;this.selection&&(this.isAllSelected()?this.selection.clear():(e=this.selection).select.apply(e,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}(this.data)))},e}();c.decorators=[{type:t.Component,args:[{selector:"mat-selection-column",template:'<ng-container matColumnDef>\n  <th mat-header-cell *matHeaderCellDef>\n    <mat-checkbox (change)="$event ? masterToggle() : null"\n                  [checked]="selection?.hasValue() && isAllSelected()"\n                  [indeterminate]="selection?.hasValue() && !isAllSelected()">\n    </mat-checkbox>\n  </th>\n  <td mat-cell *matCellDef="let row">\n    <mat-checkbox (click)="$event.stopPropagation()"\n                  (change)="$event ? selection?.toggle(row) : null"\n                  [checked]="selection?.isSelected(row)">\n    </mat-checkbox>\n  </td>\n</ng-container>\n',styles:[".mat-cell,.mat-header-cell{padding-left:24px;padding-right:24px}"]}]}],c.ctorParameters=function(){return[{type:n.MatTable}]},c.propDecorators={name:[{type:t.Input}],selection:[{type:t.Input}],columnDef:[{type:t.ViewChild,args:[n.MatColumnDef,{static:!0}]}],cell:[{type:t.ViewChild,args:[n.MatCellDef,{static:!0}]}],headerCell:[{type:t.ViewChild,args:[n.MatHeaderCellDef,{static:!0}]}]};var s=function(){};s.decorators=[{type:t.NgModule,args:[{declarations:[l,c],imports:[r.CommonModule,n.MatTableModule,a.MatCheckboxModule],exports:[l,c]}]}],e.CustomHeaderDirective=l,e.MatSelectionColumnComponent=c,e.MatTableExtensionsModule=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-material-extensions.umd.min.js.map